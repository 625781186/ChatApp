test_create_group_event:
    request_data: {
        'event': 'group.create',
        'data': {'name': 'test_group', 'slug': 'test_group_slug', 'description': 'test_group_description'}
    }
    expected_response: {
        'event': 'group.create',
        'data': {
            # 'id': 'ID',
            'name': 'test_group',
            'slug': 'test_group_slug',
            'img': null,
            'description': 'test_group_description',
            'messages': [],
            'members': [
                {
                    # ...user_data
                    'date_joined': 'TODAY',
                    'role': 'A',
                }
            ],
            'unread_count': 0,
            'last_message': {
                'chat_id': null,
                'sender': null,
                'text': '' 
            }
        },
        'status': 'ok'
    }
    group_with_given_slug_already_exist_response: {
        'event': 'group.create',
        data: {
            'detail': 'This Slug `{given_slug}` has already taken'
        },
        'status': 'error'
    }

test_join_in_group_event:
    request_data: {'event': 'group.join', data: {'slug': 'SLUG', 'id': 'ID'}}
    successed_response: {'event': 'group.join', data: {
        'id': 'ID',
        'name': 'test_group',
        'slug': 'test_group_slug',
        'img': null,
        'description': 'test_group_description',
        'messages': [],
        'members': [
            {
                'person': ...user_data,
                'date_joined': 'TODAY',
                'role': 'A',
            },
            {
                'person': ...another_user_data,
                'date_joined': 'TODAY',
                'role': 'S',
            }
        ],
        'unread_count': 0,
        'last_message': {
            'chat_id': null,
            'sender': null,
            'text': '' 
        }
    }, 'status': 'ok'}
    group_does_not_exist_response: {'event': 'group.join', data: {
        'detail': 'Group with given slug or id does not exist'
    }, 'status': 'error'}

test_get_group_event:
    request_data: {'event': 'group.get', data: {'id': 'ID'}}
    successed_response: {'event': 'group.get', data: {
        'id': 'ID',
        'name': 'test_group',
        'slug': 'test_group_slug',
        'img': null,
        'description': 'test_group_description',
        'messages': [],
        'members': [
            {
                'person': ...user_data,
                'date_joined': 'TODAY',
                'role': 'A',
            },
            {
                'person': ...another_user_data,
                'date_joined': 'TODAY',
                'role': 'S',
            }
        ],
        'unread_count': 0,
        'last_message': {
            'chat_id': null,
            'sender': null,
            'text': '' 
        }
    }, 'status': 'ok'}

test_list_group_event:
    request_data: {'event': 'group.list', data: {}}
    successed_response: {'event': 'group.list', data: [{
        'id': 'ID',
        'name': 'test_group',
        'slug': 'test_group_slug',
        'img': null,
        'description': 'test_group_description',
        'messages': [],
        'members': [
            {
                'person': ...user_data,
                'date_joined': 'TODAY',
                'role': 'A',
            },
            {
                'person': ...another_user_data,
                'date_joined': 'TODAY',
                'role': 'S',
            }
        ],
        'unread_count': 0,
        'last_message': {
            'chat_id': null,
            'sender': null,
            'text': '' 
        }
    }], 'status': 'ok'}

test_delete_group_event:
    request_data: {'event': 'group.delete', data: {'id': 'ID'}}
    successed_response: {'event': 'group.delete', data: {
        'id': 'ID',
    }, 'status': 'ok'}
    group_does_not_exist_response: {'event': 'group.delete', data: {
        "detail": "group doesn't exist"
    }, 'status': 'error'}

